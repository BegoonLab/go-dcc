// controller.proto
syntax = "proto3";
package controller;
option go_package = "go/controller";

message Controller {
  map <string, Locomotive> locomotives = 1;
  map <string, RailwayModule> railway_modules = 2;
  bool started = 3;
  bool reboot = 4;
  bool poweroff = 5;
  string id = 6;
}

message RailwayModule {
  string name = 1;
  uint32 address = 2;
  bool enabled = 3;
  bool f0 = 4;
  bool f1 = 5;
  bool f2 = 6;
  bool f3 = 7;
  bool f4 = 8;
  bool f5 = 9;
  bool f6 = 10;
  bool f7 = 11;
  bool f8 = 12;
  bool f9 = 13;
  bool f10 = 14;
  bool f11 = 15;
  bool f12 = 16;
  bool f13 = 17;
  bool f14 = 18;
  bool f15 = 19;
  bool f16 = 20;
  bool f17 = 21;
  bool f18 = 22;
  bool f19 = 23;
  bool f20 = 24;
  bool f21 = 25;
  bool f22 = 26;
  bool f23 = 27;
  bool f24 = 28;
  bool f25 = 29;
  bool f26 = 30;
  bool f27 = 31;
  bool f28 = 32;
}

message Locomotive {
  string name = 1;
  uint32 address = 2;
  uint32 speed = 3;
  Direction direction = 4;
  bool enabled = 5;
  bool fl = 6;
  bool f1 = 7;
  bool f2 = 8;
  bool f3 = 9;
  bool f4 = 10;
  bool f5 = 11;
  bool f6 = 12;
  bool f7 = 13;
  bool f8 = 14;
  bool f9 = 15;
  bool f10 = 16;
  bool f11 = 17;
  bool f12 = 18;
  bool f13 = 19;
  bool f14 = 20;
  bool f15 = 21;
  bool f16 = 22;
  bool f17 = 23;
  bool f18 = 24;
  bool f19 = 25;
  bool f20 = 26;
  bool f21 = 27;
  bool f22 = 28;
  bool f23 = 29;
  bool f24 = 30;
  bool f25 = 31;
  bool f26 = 32;
  bool f27 = 33;
  bool f28 = 34;

  enum Direction {
    Backward = 0;
    Forward = 1;
  }
}